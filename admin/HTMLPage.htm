<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml">
<head>
    <title></title>
         <script type="text/javascript" src="scripts/boot.js"></script>
    <link rel="stylesheet" href="kindeditor/themes/default/default.css" />
	 <script charset="utf-8" src="kindeditor/kindeditor-min.js" type ="text/javascript" ></script>
	 <script charset="utf-8" src="kindeditor/lang/zh_CN.js" type ="text/javascript" ></script>
     <script src="swfupload/swfupload.js" type="text/javascript"></script>
   <style type="text/css">
        html, body
        {
            font-size: 12px;
            padding: 0;
            margin: 0;
            border: 0;
            width: 100%;
            height: 100%;
        }
    </style>

</head>
<body>
 <form id="form1" method="post">
    <textarea id="content1" cols="100" rows="8" style="width:95%;height:300px;visibility:hidden;"  ></textarea>
</form>
</body>
</html>
<script type="text/javascript">
    mini.parse();


    //////////////////////////////////////////////////////
    var editor1 ;
    KindEditor.ready(function(K) {
        editor1 = K.create('#content1', {
            cssPath: 'kindeditor/plugins/code/prettify.css',
            uploadJson: 'kindeditor/upload_json.ashx',
            fileManagerJson: 'kindeditor/file_manager_json.ashx',
            allowFileManager: true,
            afterCreate: function() {
                var self = this;
                K.ctrl(document, 13, function() {
                    self.sync();
                    K('form[name=form1]')[0].submit();
                });
                K.ctrl(self.edit.doc, 13, function() {
                    self.sync();
                    K('form[name=form1]')[0].submit();
                });
            },
            afterUpload: function(data) { //图片文件上传成功后返回图片路径
            }
        });

    });
</script>